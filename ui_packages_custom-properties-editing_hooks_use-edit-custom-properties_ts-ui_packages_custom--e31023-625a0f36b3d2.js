"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_custom-properties-editing_hooks_use-edit-custom-properties_ts-ui_packages_custom--e31023"],{7437:(e,t,r)=>{r.d(t,{AA:()=>p,_0:()=>y,ov:()=>h,Jj:()=>d,sq:()=>u,q0:()=>x});let n=["true","false"];var a=r(82125),s=r(4227),i=r(30964),o=r(46335);let l=/[^a-zA-Z0-9_#$-]/gu,c=/[^ -!#-~]/gu;function u(e,t){if(e.length>75)return"Name cannot be longer than 75 characters";if(0===e.length)return"Name is required";for(let r of t)if(r.toLowerCase()===e.toLowerCase())return"Name already exists";let r=g(e,l);if(r)return`Name contains invalid characters: ${r}`}async function d(e,t){let r="Could not check property name";try{let n=await (0,o.lS)((0,s.wYU)({sourceName:e,propertyName:t}));if(n.ok){let{status:e,orgConflicts:r}=await n.json();switch(e){case"valid":return;case"already_exists":return{message:"Name already exists"};case"exists_in_business_orgs":return{message:`The property ${t} already exists in this enterprise`,orgConflicts:r}}}return{message:r}}catch{return{message:r}}}function p(e,t){let r=e.trim().toLowerCase();if(r.length>75)return"Option cannot be longer than 75 characters";if(0===r.length)return"Option cannot be empty";if(t.has(e)||function(e,t){for(let r of t)if(r.toLowerCase()===e)return!0;return!1}(r,t))return"Option already exists";let n=g(e,c);if(n)return`Option contains invalid characters: ${n}`}function h(e){if(e.length>255)return"Description cannot be longer than 255 characters"}let f="Invalid value type",m="Default value should be a valid option";async function y(e,t,r,s=[],i){if(r){if(!e.length)return"Cannot be empty for a required property";switch(t){case"single_select":if((0,a.OD)(e))return f;if(!s.includes(e))return m;break;case"true_false":if((0,a.OD)(e))return f;if(!n.includes(e))return m;break;case"multi_select":if(!(0,a.OD)(e))return f;if(!e.every(e=>s.includes(e)))return m;break;case"string":if((0,a.OD)(e))return f;return await x(e,i)}}}async function x(e,t){if(!e)return;if(e.length>75)return"Cannot be longer than 75 characters";let r=g(e,c);return r?`Contains invalid characters: ${r}`:t&&!await (0,i.N)(t,e)?"Value does not match pattern":void 0}function g(e,t){let r=Array.from(e.matchAll(t));return r?Array.from(new Set(r.map(e=>" "===e[0]?"whitespace":e[0]))).join(", "):""}},43508:(e,t,r)=>{r.d(t,{w:()=>o,x:()=>l});var n=r(82125),a=r(63807),s=r(96540),i=r(7437);function o(e,t,r=[]){let[l,c]=(0,s.useState)(()=>(function(e){let t={},r={};for(let a of e)for(let[e,s]of Object.entries(a)){let a=t[e];a?(0,n.tE)(a.value,s)||(t[e]={mixed:!0}):t[e]={value:s},r[e]||(r[e]=0),r[e]++}for(let[n,a]of Object.entries(r))t[n]&&a<e.length&&(t[n]={mixed:!0});return t})(e)),u=(0,s.useMemo)(()=>new Map(t.map(e=>[e.propertyName,e.regex||void 0])),[t]),[d,p]=(0,s.useState)({}),[h,f]=(0,s.useState)({});(0,s.useEffect)(()=>f({}),r);let m=(0,s.useCallback)(async(e,t)=>{let r=t&&!(0,n.OD)(t)&&await (0,i.q0)(t,u.get(e)),a={...d};delete a[e],r&&(a[e]=r),p(a)},[d,u]),y=(0,a.d)(m,300,{onChangeBehavior:"cancel"});return{propertyValuesMap:(0,s.useMemo)(()=>{let e=Object.entries({...l,...h}).reduce((e,[t,r])=>{let a=l[t],s=t in h;if(!s&&a?.mixed)e[t]={propertyName:t,changed:!1,mixed:!0};else{let i=s&&(a?.mixed||!(0,n.tE)(a?.value,r.value)),o=s?r.value:a?.value;e[t]={value:o,changed:i,propertyName:t,mixed:!1}}return e},{});for(let t of Object.entries(d)){let[r,n]=t,a=e[r];a&&(a.error=n)}return e},[h,l,d]),setPropertyValue:function(e,t){f({...h,[e]:{value:t}}),y(e,t)},revertPropertyValue:function(e){let t={...h};delete t[e],f(t);let r={...d};delete r[e],p(r)},discardChanges:function(){f({})},commitChanges:function(){let e=Object.entries(h).reduce((e,[t,r])=>(e[t]={value:r.value},e),{});c({...l,...e}),f({})}}}function l(e,t){return e.reduce((e,r)=>{let a=t[r.propertyName];return a?.changed&&(e[r.propertyName]=a.value||(0,n.sN)(r.valueType)),e},{})}},32793:(e,t,r)=>{r.d(t,{az:()=>n.az,D2:()=>q,qR:()=>M});var n=r(21485),a=r(74848),s=r(82125),i=r(4227),o=r(53855),l=r(38621),c=r(75177),u=r(52464),d=r(34614),p=r(2391),h=r(78558),f=r(30631),m=r(89323),y=r(87330),x=r(8338),g=r(96540),w=r(67138),b=r(63807),v=r(85349),j=r(55847),C=r(65607),A=r(20053),N=r(7437);let S={overlayHeaderTitle:"CustomPropertyStringEditor-module__overlayHeaderTitle--vwjAT",anchorButton:"CustomPropertyStringEditor-module__anchorButton--_prb_"},T={messageContainer:"WarningMessage-module__messageContainer--faqxE"};function R({children:e}){return(0,a.jsxs)("div",{className:(0,A.$)(T.messageContainer,"d-flex gap-2 text-small color-fg-attention color-bg-attention border-top border-bottom color-border-attention"),children:[(0,a.jsx)(l.AlertIcon,{size:16}),(0,a.jsx)("div",{children:e})]})}try{R.displayName||(R.displayName="WarningMessage")}catch{}function _(e){let{mixed:t,propertyValue:r,defaultValue:i,onChange:o}=e,[c,u]=(0,g.useState)(!1),d=(0,g.useRef)(null),p=t?n.ON:(0,s.sX)(r)?(0,s.sX)(i)?"Set value":`default (${i})`:r;return(0,a.jsx)(v.T,{focusTrapSettings:{initialFocusRef:d},open:c,onOpen:()=>u(!0),onClose:()=>u(!1),side:"outside-bottom",overlayProps:{role:"dialog",sx:{width:320},title:"Set a text value"},renderAnchor:e=>(0,a.jsx)(j.Q,{...e,block:!0,className:S.anchorButton,alignContent:"start",trailingAction:l.TriangleDownIcon,children:(0,a.jsx)(f.A,{maxWidth:"100%",title:p,children:p})}),children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:(0,A.$)(t?"border-bottom-0":"border-bottom","p-2 pl-3 d-flex flex-justify-between flex-items-center gap-2"),children:[(0,a.jsx)("div",{className:(0,A.$)(S.overlayHeaderTitle,"text-bold"),children:"Set a text value"}),(0,a.jsx)(y.K,{ref:d,"aria-label":"Close",variant:"invisible",icon:l.XIcon,onClick:()=>u(!1)})]}),t&&(0,a.jsx)(R,{children:"Property has mixed values"}),c&&(0,a.jsx)(k,{...e,onCancel:()=>u(!1),onChange:e=>{o(e),u(!1)}})]})})}function k({propertyValue:e,defaultValue:t,regexPattern:r,orgName:n,mixed:s,onCancel:o,onChange:c}){let u=(0,g.useRef)(null),h=!!t,[f,m]=(0,g.useState)(!!t&&!e&&!s),[y,x]=(0,g.useState)(()=>s?"":e||t||""),[v,A]=(0,g.useState)(),S=async e=>{let t=await (!e&&h?"This property is required and can\u2019t be blank":(0,N.q0)(e,r||void 0));return A(t),t},T=(0,b.d)(S,300,{onChangeBehavior:"cancel"}),R=async e=>{m(!1),x(e),T(e)},_=async()=>{if(await S(y))return u.current?.focus();c(f?"":y)};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsxs)(p.A,{children:[(0,a.jsx)(p.A.Label,{visuallyHidden:!0,children:"Edit value"}),(0,a.jsx)(w.A,{block:!0,ref:u,value:y,placeholder:"Enter a value",onChange:e=>R(e.target.value),trailingAction:y?(0,a.jsx)(w.A.Action,{onClick:()=>R(""),icon:l.XCircleFillIcon,"aria-label":"Clear input"}):(0,a.jsx)(a.Fragment,{})}),v&&(0,a.jsx)(p.A.Validation,{variant:"error",children:v})]}),t&&(0,a.jsxs)(p.A,{className:"mt-2",children:[(0,a.jsx)(C.A,{checked:f,onChange:e=>{e.target.checked?(m(!0),x(t)):R("")}}),(0,a.jsxs)(p.A.Label,{children:["Use default value (",t,")"]}),(0,a.jsxs)(p.A.Caption,{children:["Inherited from"," ",(0,a.jsx)(d.A,{inline:!0,href:(0,i.p3r)({owner:n}),children:n})]})]})]}),(0,a.jsxs)("div",{className:"p-3 d-flex flex-justify-end gap-2 border-top",children:[(0,a.jsx)(j.Q,{onClick:o,children:"Cancel"}),(0,a.jsx)(j.Q,{variant:"primary",onClick:_,children:"Apply"})]})]})}try{_.displayName||(_.displayName="CustomPropertyStringEditor")}catch{}try{k.displayName||(k.displayName="InnerStringEditor")}catch{}var L=r(26751);function V(e){let{valueType:t,defaultValue:r,regex:i,mixed:o,onChange:l,orgName:c}=e,u=e.propertyValue||(0,s.sN)(t);switch(t){case"single_select":return(0,a.jsx)(n.ze,{...e,propertyValue:u});case"multi_select":return(0,a.jsx)(n.az,{...e,propertyValue:u});case"true_false":return e.editingRedesignEnabled?(0,a.jsx)(L.r,{...e,defaultValue:r,propertyValue:u}):(0,a.jsx)(n.ze,{...e,allowedValues:["true","false"],propertyValue:u});case"string":return e.editingRedesignEnabled?(0,a.jsx)(_,{propertyValue:u,defaultValue:r,regexPattern:i,mixed:o,orgName:c,onChange:l}):(0,a.jsx)(P,{...e,propertyValue:u});default:return null}}function P({propertyValue:e,defaultValue:t,propertyName:r,mixed:s,onChange:i,inputProps:o}){let l=s?n.ON:t||"";return(0,a.jsx)(w.A,{block:!0,"aria-label":r,onChange:e=>i(e.target.value),value:e,placeholder:l,...o})}try{V.displayName||(V.displayName="CustomPropertyInput")}catch{}try{P.displayName||(P.displayName="StringPropertyInput")}catch{}function q(e){let{definitions:t,propertyValuesMap:r,orgName:n,showLockMessages:s=!0,showUndo:i=!0}=e,{editableDefinitions:o}=e,l=(0,g.useMemo)(()=>new Set((o||[]).map(e=>e.propertyName)),[o]);return 0===t.length?null:(0,a.jsx)(c.A,{sx:{border:"1px solid",borderColor:"border.muted",borderRadius:2,"div:last-child":{borderBottomWidth:0}},"data-testid":"custom-property-values-table",children:t.map(t=>{let{propertyName:o}=t,u=r[o],d="editableDefinitions"in e&&l.has(o);return(0,a.jsx)(c.A,{sx:{px:3,borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"border.default"},"data-testid":"property-row",children:d?(0,a.jsx)(E,{changed:!!u?.changed,mixed:!!u?.mixed,propertyValue:u?.value,definition:t,error:u?.error,onChange:t=>e.setPropertyValue(o,t),onReset:()=>e.revertPropertyValue(o),showUndo:i,orgName:n},o):(0,a.jsx)(W,{propertyValue:u?.value||t.defaultValue||"",definition:t,showLockMessages:s,orgName:n},o)},o)})})}function W({propertyValue:e,definition:t,showLockMessages:r,orgName:n}){let{description:s}=t;return(0,a.jsx)(O,{label:M(t),description:s,value:(0,a.jsx)($,{propertyValue:e,definition:t}),bottomMessage:r&&(0,a.jsxs)(c.A,{sx:{display:"inline"},children:[(0,a.jsxs)(u.A,{sx:{color:"fg.subtle"},children:[(0,a.jsx)(l.ShieldLockIcon,{size:"small"})," Managed by"," "]}),(0,a.jsx)(d.A,{inline:!0,href:(0,i.p3r)({owner:n}),children:n})]})})}function E({propertyValue:e,definition:t,changed:r,mixed:n=!1,error:s,onChange:i,onReset:l,showUndo:u,orgName:d}){let{propertyName:h,description:f}=t,m=(0,o.u)("custom_properties_editing_redesign"),y=`${h}-validation-error`;return(0,a.jsx)(O,{label:M(t),description:f,value:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.A,{sx:{display:"flex",gap:2},children:(0,a.jsx)(V,{...t,propertyValue:e,mixed:n,onChange:i,orgName:d,editingRedesignEnabled:m,inputProps:s?{"aria-describedby":y}:{}})}),s&&(0,a.jsx)(p.A.Validation,{variant:"error",id:y,sx:{pt:2},children:s})]}),trailing:(0,a.jsx)(X,{definition:t,changed:r,onReset:l,onChange:i,showUndo:u})})}let I={display:"grid",flex:1,py:3,gridTemplateColumns:["1fr auto","1fr auto","1fr 220px minmax(39px, auto)"],gridTemplateRows:["auto auto auto auto","auto auto auto auto","1fr min-content min-content"],gridTemplateAreas:['"name trailing" "description trailing" "value trailing" "bottomMessage trailing"','"name trailing" "description trailing" "value trailing" "bottomMessage trailing"','"name value trailing" "description value trailing" "bottomMessage value trailing"']};function O({label:e,description:t,bottomMessage:r,value:n,trailing:s}){return(0,a.jsxs)(p.A,{sx:I,children:[(0,a.jsx)(p.A.Label,{sx:{gridArea:"name",pr:3,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",alignSelf:"center"},"data-testid":"property-name",children:e}),(0,a.jsx)(c.A,{sx:{gridArea:"value",mt:[1,1,0]},children:n}),s?(0,a.jsx)(c.A,{sx:{gridArea:"trailing",pl:2,mt:0},children:s}):null,t&&(0,a.jsx)(p.A.Caption,{sx:{gridArea:"description",pr:3,mt:0},children:t}),r?(0,a.jsx)(c.A,{sx:{gridArea:"bottomMessage",mt:1},children:r}):null]})}function $({propertyValue:e,definition:t}){if((0,s.sX)(e))return(0,a.jsx)(u.A,{sx:{color:"fg.muted"},children:"(Empty)"});switch(t.valueType){case"single_select":case"true_false":return(0,a.jsx)(h.A,{sx:{color:"fg.default"},text:(0,a.jsx)(f.A,{title:e,maxWidth:"100%",children:e})});case"multi_select":return(0,a.jsx)(a.Fragment,{children:e.map(e=>(0,a.jsx)(h.A,{sx:{color:"fg.default",mr:1},text:(0,a.jsx)(f.A,{title:e,maxWidth:"100%",children:e})},e))});case"string":return(0,a.jsx)(f.A,{title:e,maxWidth:"100%",children:e})}}function M({propertyName:e,required:t}){return`${e}${t?" *":""}`}function X({definition:e,changed:t,showUndo:r=!0,onReset:n,onChange:s}){let{propertyName:i,required:o,source:c}=e,d=`Undo ${i} changes`,p=`Reset ${i} to default value`;return(0,a.jsxs)(m.W,{children:[(0,a.jsx)(m.W.Anchor,{children:(0,a.jsx)(y.K,{unsafeDisableTooltip:!0,icon:l.KebabHorizontalIcon,variant:"invisible","aria-label":`Open reset options for ${i}`})}),(0,a.jsx)(m.W.Overlay,{width:"small",children:(0,a.jsxs)(x.l,{children:[r&&(0,a.jsxs)(x.l.Item,{onSelect:n,"aria-label":d,inactiveText:t?void 0:"No change to undo",children:[(0,a.jsx)(x.l.LeadingVisual,{children:(0,a.jsx)(l.UndoIcon,{})}),(0,a.jsx)(u.A,{sx:{fontWeight:"bold",display:"block"},children:"Undo"}),(0,a.jsx)(u.A,{sx:{fontSize:"small",color:"fg.subtle"},children:"Reset to the last used value"})]}),o&&(0,a.jsxs)(x.l.Item,{onSelect:()=>s(""),"aria-label":p,children:[(0,a.jsx)(x.l.LeadingVisual,{children:(0,a.jsx)(l.SyncIcon,{})}),(0,a.jsx)(u.A,{sx:{fontWeight:"bold",display:"block"},children:"Reset to default"}),(0,a.jsxs)(u.A,{sx:{fontSize:"small",color:"fg.subtle"},children:["Inherit the value defined by the ","business"===c.type?"enterprise":"organization"]})]})]})})]})}try{q.displayName||(q.displayName="CustomPropertyValuesTable")}catch{}try{W.displayName||(W.displayName="CustomPropertyReadValueRow")}catch{}try{E.displayName||(E.displayName="CustomPropertyEditValueRow")}catch{}try{O.displayName||(O.displayName="DataTableRow")}catch{}try{$.displayName||($.displayName="DisplayPropertyValue")}catch{}try{X.displayName||(X.displayName="ResetDropdown")}catch{}},82125:(e,t,r)=>{function n(e){return Array.isArray(e)}function a(e){return!e||0===e.length}function s(e){return"multi_select"===e?[]:""}function i(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((e,r)=>e===t[r]):e===t}r.d(t,{OD:()=>n,sN:()=>s,sX:()=>a,tE:()=>i})},36751:(e,t,r)=>{r.d(t,{r:()=>a});var n=r(97797);async function a(e){let t=document.querySelector("#site-details-dialog").content.cloneNode(!0),r=t.querySelector("details"),a=r.querySelector("details-dialog"),s=r.querySelector(".js-details-dialog-spinner");e.detailsClass&&r.classList.add(...e.detailsClass.split(" ")),e.dialogClass&&a.classList.add(...e.dialogClass.split(" ")),e.label?a.setAttribute("aria-label",e.label):e.labelledBy&&a.setAttribute("aria-labelledby",e.labelledBy),document.body.append(t);try{let t=await e.content;s.remove(),a.prepend(t)}catch{s.remove();let t=document.createElement("span");t.textContent=e.errorMessage||"Couldn't load the content",t.classList.add("my-6"),t.classList.add("mx-4"),a.prepend(t)}return r.addEventListener("toggle",()=>{r.hasAttribute("open")||((0,n.h)(a,"dialog:remove"),r.remove())}),a}},88547:(e,t,r)=>{r.d(t,{D:()=>s});var n=r(43779),a=r(3167);function s(e){if(!a.XC)return;let t=a.XC.querySelector("title"),r=a.XC.createElement("title");r.textContent=e,t?t.textContent!==e&&(t.replaceWith(r),(0,n.i)(e)):(a.XC.head.appendChild(r),(0,n.i)(e))}},53156:(e,t,r)=>{r.d(t,{Ee:()=>i,b4:()=>o,Ts:()=>s});let n=class ResponseError extends Error{constructor(e,t){super(`${e} for HTTP ${t.status}`),this.response=t,this.name="ResponseError"}};var a=r(56579);async function s(e,t,r){let s=new Request(t,r);s.headers.append("X-Requested-With","XMLHttpRequest");let i=await self.fetch(s);if(i.status<200||i.status>=300)throw Error(`HTTP ${i.status}${i.statusText||""}`);return!function(e,t,r=!1){let a=t.headers.get("content-type")||"";if(!r&&!a.startsWith("text/html"))throw new n(`expected response with text/html, but was ${a}`,t);if(r&&!(a.startsWith("text/html")||a.startsWith("application/json")))throw new n(`expected response with text/html or application/json, but was ${a}`,t);let s=t.headers.get("x-html-safe");if(s){if(!e.includes(s))throw new n("response X-HTML-Safe nonce did not match",t)}else throw new n("missing X-HTML-Safe nonce",t)}(function(e){let t=[...e.querySelectorAll("meta[name=html-safe-nonce]")].map(e=>e.content);if(t.length<1)throw Error("could not find html-safe-nonce on document");return t}(e),i),(0,a.B)(e,await i.text())}function i(e,t,r=1e3,n=[200],a=[202]){return async function r(s){let i=new Request(e,t);i.headers.append("X-Requested-With","XMLHttpRequest");let o=await self.fetch(i);if(a.includes(o.status))return await new Promise(e=>setTimeout(e,s)),r(1.5*s);if(n.includes(o.status))return o;if(o.status<200||o.status>=300)throw Error(`HTTP ${o.status}${o.statusText||""}`);throw Error(`Unexpected ${o.status} response status from poll endpoint`)}(r)}async function o(e,t,r){let{wait:n=500,acceptedStatusCodes:a=[200],max:s=3,attempt:i=0}=r||{},l=async()=>new Promise((r,o)=>{setTimeout(async()=>{try{let n=new Request(e,t);n.headers.append("X-Requested-With","XMLHttpRequest");let o=await self.fetch(n);if(a.includes(o.status)||i+1===s)return r(o);r("retry")}catch(e){o(e)}},n*i)}),c=await l();return"retry"!==c?c:o(e,t,{wait:n,acceptedStatusCodes:a,max:s,attempt:i+1})}},67233:(e,t,r)=>{r.d(t,{A:()=>n});let n=(e,t)=>{let r=new URL(e,window.location.origin),n=new URL(t,window.location.origin);return n.href.includes("#")&&r.host===n.host&&r.pathname===n.pathname&&r.search===n.search}},56579:(e,t,r)=>{r.d(t,{B:()=>n});function n(e,t){let r=e.createElement("template");return r.innerHTML=t,e.importNode(r.content,!0)}},69918:(e,t,r)=>{r.d(t,{$:()=>i,O:()=>c});var n=r(46335),a=r(96540),s=function(e){return e[e.INVALID=0]="INVALID",e[e.VALID=1]="VALID",e[e.UNKNOWN=2]="UNKNOWN",e}(s||{});function i(e,t){let[r,n]=(0,a.useState)(2);return{isValid:1===r,showError:0===r,validate:async(r,a={})=>{if(n(2),!t)return!0;let s=await o(r,`${e}/${t}`,a);return n(s),l(s)},reset:(e=!1)=>{n(e?1:2)}}}let o=async(e,t,r)=>{let a=await (0,n.lS)(t,{...r,method:"POST",body:e});if(a.ok){let{valid:e}=await a.json();return e?1:0}return 400===a.status?0:2},l=e=>{switch(e){case 1:case 2:return!0;case 0:return!1}},c=async(e,t)=>l(await o(e,t))},30964:(e,t,r)=>{r.d(t,{N:()=>s});var n=r(4227),a=r(69918);let s=async(e,t)=>!(e?.length&&t?.length)||await (0,a.O)({pattern:e,value:t},(0,n.ygX)())},44815:(e,t,r)=>{r.d(t,{Ay:()=>p,YU:()=>u,nA:()=>h});var n=r(36751),a=r(53156),s=r(13937),i=r(14583);let o=!1;async function l(){let e=document.querySelector("link[rel=sudo-modal]"),t=document.querySelector(".js-sudo-prompt");if(t instanceof HTMLTemplateElement)return t;if(e){let t=await (0,a.Ts)(document,function(e){let t=new URL(e,window.location.origin),r=new URLSearchParams(t.search.slice(1));return r.set("webauthn-support",(0,i.K)()),t.search=r.toString(),t.toString()}(e.href));return document.body.appendChild(t),document.querySelector(".js-sudo-prompt")}throw Error("couldn't load sudo prompt")}let c=!1;async function u(e){if(o)return!1;o=!0,c=!1;let t=(await l()).content.cloneNode(!0),r=await (0,n.r)({content:t}),a=e?.closest("details[open]");return a&&a.removeAttribute("open"),await new Promise(e=>{r.addEventListener("dialog:remove",function(){a&&a.setAttribute("open","open"),o=!1,e()},{once:!0})}),c}async function d(e,t,r="Sudo authentication failed.",n="Too many authentication attempts. Please try again later.",a=".js-sudo-error",s){try{await t.text()}catch(i){let t;if(!i.response)throw i;switch(i.response.status){case 401:t=r;break;case 429:t=n;break;default:t="An unknown error occurred. Please try again later."}if(e.querySelector(a).textContent=t,e.querySelector(a).hidden=!1,s&&(e.querySelector(s).value=""),401!==i.response.status&&429!==i.response.status)throw i;return}c=!0,e.closest("details").removeAttribute("open")}async function p(e){let t=await fetch("/sessions/in_sudo",{headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}});return!!t.ok&&"true"===await t.text()||u(e)}async function h(){let e=await fetch("/sessions/in_sudo",{headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}});return!!e.ok&&"true"===await e.text()}(0,s.JW)(".js-sudo-webauthn-form",async function(e,t){await d(e,t)}),(0,s.JW)(".js-sudo-github-mobile-form",async function(e,t){await d(e,t)}),(0,s.JW)(".js-sudo-totp-form",async function(e,t){await d(e,t,void 0,void 0,".flash-error","#totp")}),(0,s.JW)(".js-sudo-password-form",async function(e,t){await d(e,t,"Incorrect password.","Too many password attempts. Please wait and try again.",void 0,".js-sudo-password")})},63807:(e,t,r)=>{r.d(t,{d:()=>i});var n=r(59899),a=r(23125),s=r(96540);let i=(e,t,{leading:r=!1,maxWait:i,trailing:o=!0,onChangeBehavior:l="flush"}={})=>{let c=(0,n.M)(e),u=(0,s.useMemo)(()=>{let e=void 0===i?{leading:r,trailing:o}:{leading:r,trailing:o,maxWait:i};return(0,a.A)((...e)=>c.current(...e),t,e)},[c,t,r,i,o]);return(0,s.useEffect)(()=>()=>{u?.[l]()},[u,l]),u}},94223:(e,t,r)=>{r.d(t,{Z:()=>d,o:()=>p});var n=r(96540),a=r(47767),s=r(45588),i=r(84976),o=r(67233),l=r(2989),c=r(73036),u=r(75926);let d=()=>{let{routes:e}=n.useContext(l.B),t=(0,a.Zp)();return n.useCallback((a,i={})=>{let l=(0,s.o1)(a).pathname;if((0,s.ue)(e,l)){(0,o.A)(location.href,a.toString())||(0,c.SC)("react");let{preventAutofocus:e,...r}=i;(0,n.startTransition)(()=>{t(a,e?{...r,state:{[u.V]:!0,...r.state}}:r);let{turbo:n,...s}=window.history.state??{};window.history.replaceState({...s,skipTurbo:!0},"",location.href)})}else{let e="string"==typeof a?a:(0,s.AO)(a);(async()=>{let{softNavigate:t}=await Promise.all([r.e("vendors-node_modules_github_turbo_dist_turbo_es2017-esm_js"),r.e("ui_packages_soft-navigate_soft-navigate_ts")]).then(r.bind(r,37175));t(e)})()}},[t,e])},p=()=>{let[e]=(0,i.ok)(),t=d(),{pathname:r}=(0,a.zy)(),s=n.useCallback((n,a={})=>{t({pathname:r,search:(0,i.PI)("function"==typeof n?n(e):n).toString()},a)},[e,t,r]);return[e,s]}},46335:(e,t,r)=>{function n(e,t={}){!function(e){if(new URL(e,window.location.origin).origin!==window.location.origin)throw Error("Can not make cross-origin requests from verifiedFetch")}(e);let r={...t.headers,"GitHub-Verified-Fetch":"true","X-Requested-With":"XMLHttpRequest"};return fetch(e,{...t,headers:r})}function a(e,t){let r={...t?.headers??{},Accept:"application/json","Content-Type":"application/json"},a=t?.body?JSON.stringify(t.body):void 0;return n(e,{...t,body:a,headers:r})}function s(e,t={}){let r={...t.headers,"GitHub-Is-React":"true"};return n(e,{...t,headers:r})}function i(e,t){let r={...t?.headers??{},"GitHub-Is-React":"true"};return a(e,{...t,headers:r})}r.d(t,{DI:()=>n,QJ:()=>s,Sr:()=>i,lS:()=>a})},14583:(e,t,r)=>{r.d(t,{K:()=>a,e:()=>s});var n=r(74043);function a(){return(0,n.$j)()?"supported":"unsupported"}async function s(){return await window.PublicKeyCredential?.isUserVerifyingPlatformAuthenticatorAvailable()?"supported":"unsupported"}},26751:(e,t,r)=>{r.d(t,{r:()=>d});var n=r(74848),a=r(4227),s=r(89323),i=r(8338),o=r(52464),l=r(34614),c=r(96540),u=r(21485);let d=(0,c.forwardRef)(({defaultValue:e=null,propertyValue:t,mixed:r=!1,onChange:d,orgName:p="",anchorProps:h={}},f)=>{let m=(0,c.useRef)(r),y=!!e&&""===t,x=`default (${e})`,g=r?u.ON:y?x:t||"Choose an option";return(0,n.jsxs)(s.W,{anchorRef:f,children:[(0,n.jsx)(s.W.Button,{...h,sx:{width:"100%","span[data-component=buttonContent]":{justifyContent:"start"}},children:g}),(0,n.jsx)(s.W.Overlay,{width:e?"medium":"small",children:(0,n.jsxs)(i.l,{selectionVariant:"single",role:"menu","aria-label":"True/false property value selections",children:[m.current&&(0,n.jsx)(i.l.Item,{selected:r,inactiveText:"This property has multiple values",children:"Mixed"}),e&&(0,n.jsxs)(i.l.Item,{onSelect:()=>d(""),selected:y&&!r,children:[(0,n.jsx)(o.A,{sx:{fontWeight:"normal"},children:x}),(0,n.jsxs)(i.l.Description,{variant:"block",children:["Inherited from"," ",(0,n.jsx)(l.A,{inline:!0,href:(0,a.p3r)({owner:p}),children:p})]})]}),(m.current||e)&&(0,n.jsx)(i.l.Divider,{}),["true","false"].map(e=>{let r=t===e;return(0,n.jsx)(i.l.Item,{selected:r,onSelect:()=>r?d(""):d(e),children:e},e)})]})})]})});d.displayName="CustomPropertyBooleanSelect"},21485:(e,t,r)=>{r.d(t,{ON:()=>u,az:()=>h,ze:()=>p});var n=r(74848),a=r(82125),s=r(38621),i=r(19920),o=r(55847),l=r(30631),c=r(96540);let u="(Mixed)",d={leadingVisual:s.CircleSlashIcon,text:"No matches",disabled:!0,selected:void 0,key:"no-matches",id:"no-matches"};function p({anchorRef:e,propertyName:t,defaultValue:r,allowedValues:a,propertyValue:s,mixed:o,onChange:l,anchorProps:c}){let u=f(t,r,a,o,s?[s]:[],c),d=u.items.find(e=>e.text&&s===e.text);return(0,n.jsx)(i.X,{...u,anchorRef:e,onSelectedChange:e=>l(e?.text||""),selected:d})}function h({anchorRef:e,propertyName:t,defaultValue:r,allowedValues:a,propertyValue:s,mixed:o,onChange:l,anchorProps:c}){let u=f(t,r,a,o,s,c),d=u.items.filter(e=>e.selected);return(0,n.jsx)(i.X,{...u,anchorRef:e,onSelectedChange:e=>{let{filterValue:t}=u,r=e.map(e=>e.text||"");t?l([...s.filter(e=>!e.toLowerCase().includes(t.toLowerCase())),...r]):l(r)},selected:d})}function f(e,t,r,i,p,h={}){let[y,x]=(0,c.useState)(!1),[g,w]=(0,c.useState)(""),b=function(e,t){let r=t?e.filter(e=>(e.text||"").toLowerCase().includes(t)):e;return 0===r.length?[d]:r}((0,c.useMemo)(()=>(r||[]).map(e=>({id:e,text:e,selected:p.includes(e)})),[r,p]),g.toLowerCase()),v=b.length>7?"medium":"auto",j=i?u:(0,a.sX)(p)?(0,a.sX)(t)?"Choose an option":`default (${m(t||"")})`:m(p);return{items:b,renderAnchor:t=>(0,n.jsx)(o.Q,{block:!0,alignContent:"start","aria-label":i?u:`Select ${e}`,trailingAction:s.TriangleDownIcon,sx:{minWidth:0,'>span[data-component="buttonContent"]':{flex:1}},...t,...h,children:(0,n.jsx)(l.A,{maxWidth:"100%",title:j,children:j})}),placeholderText:"Search for values",filterValue:g,open:y,onFilterChange:w,onOpenChange:e=>{x(e),w("")},overlayProps:{height:v,width:"medium"}}}function m(e){return(0,a.OD)(e)?e.length<=1?e[0]||"":`${e.length} selected`:e}try{p.displayName||(p.displayName="CustomPropertySingleSelectPanel")}catch{}try{h.displayName||(h.displayName="CustomPropertyMultiSelectPanel")}catch{}}}]);
//# sourceMappingURL=ui_packages_custom-properties-editing_hooks_use-edit-custom-properties_ts-ui_packages_custom--e31023-07aecd700384.js.map